import { WorkflowInstance, InstanceTask } from '@/types/execution';
import { TaskDetails, TaskFile, TaskQuery } from '../executionApi';

export const mockWorkflowInstances: WorkflowInstance[] = [
  {
    instanceId: 1,
    workflowId: 1,
    status: 'RUNNING',
    startedBy: 1,
    startedOn: new Date(Date.now() - 3600000).toISOString(), // 1 hour ago
    completedOn: null,
    escalatedTo: null,
    calendarId: 1,
    calendarName: 'Standard Business Calendar',
    workflowName: 'Monthly Finance Review Workflow',
    startedByUsername: 'alice',
    escalatedToUsername: null,
    instanceTasks: [
      {
        instanceTaskId: 1,
        instanceId: 1,
        taskId: 21,
        status: 'COMPLETED',
        assignedTo: 1,
        startedOn: new Date(Date.now() - 3600000).toISOString(),
        completedOn: new Date(Date.now() - 1800000).toISOString(),
        decisionOutcome: null,
        assignedToUsername: 'alice',
        taskName: 'Data Collection',
        taskType: 'FILE_UPLOAD',
      },
      {
        instanceTaskId: 2,
        instanceId: 1,
        taskId: 22,
        status: 'IN_PROGRESS',
        assignedTo: 2,
        startedOn: new Date(Date.now() - 1800000).toISOString(),
        completedOn: null,
        decisionOutcome: null,
        assignedToUsername: 'bob',
        taskName: 'Data Validation',
        taskType: 'FILE_UPDATE',
      },
    ],
  },
  {
    instanceId: 2,
    workflowId: 2,
    status: 'COMPLETED',
    startedBy: 7,
    startedOn: new Date(Date.now() - 86400000).toISOString(), // 1 day ago
    completedOn: new Date(Date.now() - 3600000).toISOString(), // 1 hour ago
    escalatedTo: null,
    calendarId: 2,
    calendarName: 'Company Holidays 2025',
    workflowName: 'Quarterly Audit Workflow',
    startedByUsername: 'charlie',
    escalatedToUsername: null,
    instanceTasks: [
      {
        instanceTaskId: 3,
        instanceId: 2,
        taskId: 25,
        status: 'COMPLETED',
        assignedTo: 7,
        startedOn: new Date(Date.now() - 86400000).toISOString(),
        completedOn: new Date(Date.now() - 43200000).toISOString(),
        decisionOutcome: null,
        assignedToUsername: 'charlie',
        taskName: 'Document Collection',
        taskType: 'FILE_UPLOAD',
      },
      {
        instanceTaskId: 4,
        instanceId: 2,
        taskId: 26,
        status: 'COMPLETED',
        assignedTo: 8,
        startedOn: new Date(Date.now() - 43200000).toISOString(),
        completedOn: new Date(Date.now() - 3600000).toISOString(),
        decisionOutcome: null,
        assignedToUsername: 'diana',
        taskName: 'Final Audit Report',
        taskType: 'CONSOLIDATE_FILE',
      },
    ],
  },
  {
    instanceId: 3,
    workflowId: 1,
    status: 'ESCALATED',
    startedBy: 5,
    startedOn: new Date(Date.now() - 172800000).toISOString(), // 2 days ago
    completedOn: null,
    escalatedTo: 4,
    calendarId: 1,
    calendarName: 'Standard Business Calendar',
    workflowName: 'Monthly Finance Review Workflow',
    startedByUsername: 'alice',
    escalatedToUsername: 'sarahwilson',
    instanceTasks: [
      {
        instanceTaskId: 5,
        instanceId: 3,
        taskId: 21,
        status: 'COMPLETED',
        assignedTo: 5,
        startedOn: new Date(Date.now() - 172800000).toISOString(),
        completedOn: new Date(Date.now() - 129600000).toISOString(),
        decisionOutcome: null,
        assignedToUsername: 'alice',
        taskName: 'Data Collection',
        taskType: 'FILE_UPLOAD',
      },
      {
        instanceTaskId: 6,
        instanceId: 3,
        taskId: 22,
        status: 'COMPLETED',
        assignedTo: 2,
        startedOn: new Date(Date.now() - 129600000).toISOString(),
        completedOn: new Date(Date.now() - 86400000).toISOString(),
        decisionOutcome: null,
        assignedToUsername: 'bob',
        taskName: 'Data Validation',
        taskType: 'FILE_UPDATE',
      },
      {
        instanceTaskId: 7,
        instanceId: 3,
        taskId: 23,
        status: 'PENDING',
        assignedTo: 4,
        startedOn: null,
        completedOn: null,
        decisionOutcome: null,
        assignedToUsername: 'sarahwilson',
        taskName: 'Manager Review',
        taskType: 'DECISION',
      },
    ],
  },
  {
    instanceId: 4,
    workflowId: 1,
    status: 'PENDING',
    startedBy: 9,
    startedOn: new Date(Date.now() - 7200000).toISOString(), // 2 hours ago
    completedOn: null,
    escalatedTo: null,
    calendarId: 3,
    calendarName: '24/7 Operations Calendar',
    workflowName: 'Monthly Finance Review Workflow',
    startedByUsername: 'eve',
    escalatedToUsername: null,
    instanceTasks: [
      {
        instanceTaskId: 8,
        instanceId: 4,
        taskId: 21,
        status: 'PENDING',
        assignedTo: 9,
        startedOn: null,
        completedOn: null,
        decisionOutcome: null,
        assignedToUsername: 'eve',
        taskName: 'Data Collection',
        taskType: 'FILE_UPLOAD',
      },
    ],
  },
  {
    instanceId: 5,
    workflowId: 2,
    status: 'FAILED',
    startedBy: 11,
    startedOn: new Date(Date.now() - 259200000).toISOString(), // 3 days ago
    completedOn: null,
    escalatedTo: 8,
    calendarId: 2,
    calendarName: 'Company Holidays 2025',
    workflowName: 'Quarterly Audit Workflow',
    startedByUsername: 'grace',
    escalatedToUsername: 'diana',
    instanceTasks: [
      {
        instanceTaskId: 9,
        instanceId: 5,
        taskId: 25,
        status: 'FAILED',
        assignedTo: 11,
        startedOn: new Date(Date.now() - 259200000).toISOString(),
        completedOn: null,
        decisionOutcome: null,
        assignedToUsername: 'grace',
        taskName: 'Document Collection',
        taskType: 'FILE_UPLOAD',
      },
    ],
  },
];

export const mockInstanceTasks: InstanceTask[] = [
  {
    instanceTaskId: 1,
    instanceId: 1,
    taskId: 21,
    status: 'COMPLETED',
    assignedTo: 1,
    startedOn: new Date(Date.now() - 3600000).toISOString(),
    completedOn: new Date(Date.now() - 1800000).toISOString(),
    decisionOutcome: null,
    assignedToUsername: 'alice',
    taskName: 'Data Collection',
    taskType: 'FILE_UPLOAD',
  },
  {
    instanceTaskId: 2,
    instanceId: 1,
    taskId: 22,
    status: 'IN_PROGRESS',
    assignedTo: 2,
    startedOn: new Date(Date.now() - 1800000).toISOString(),
    completedOn: null,
    decisionOutcome: null,
    assignedToUsername: 'bob',
    taskName: 'Data Validation',
    taskType: 'FILE_UPDATE',
  },
  {
    instanceTaskId: 3,
    instanceId: 2,
    taskId: 25,
    status: 'COMPLETED',
    assignedTo: 7,
    startedOn: new Date(Date.now() - 86400000).toISOString(),
    completedOn: new Date(Date.now() - 43200000).toISOString(),
    decisionOutcome: null,
    assignedToUsername: 'charlie',
    taskName: 'Document Collection',
    taskType: 'FILE_UPLOAD',
  },
  {
    instanceTaskId: 4,
    instanceId: 2,
    taskId: 26,
    status: 'COMPLETED',
    assignedTo: 8,
    startedOn: new Date(Date.now() - 43200000).toISOString(),
    completedOn: new Date(Date.now() - 3600000).toISOString(),
    decisionOutcome: null,
    assignedToUsername: 'diana',
    taskName: 'Final Audit Report',
    taskType: 'CONSOLIDATE_FILE',
  },
  {
    instanceTaskId: 5,
    instanceId: 3,
    taskId: 21,
    status: 'COMPLETED',
    assignedTo: 5,
    startedOn: new Date(Date.now() - 172800000).toISOString(),
    completedOn: new Date(Date.now() - 129600000).toISOString(),
    decisionOutcome: null,
    assignedToUsername: 'alice',
    taskName: 'Data Collection',
    taskType: 'FILE_UPLOAD',
  },
  {
    instanceTaskId: 6,
    instanceId: 3,
    taskId: 22,
    status: 'COMPLETED',
    assignedTo: 2,
    startedOn: new Date(Date.now() - 129600000).toISOString(),
    completedOn: new Date(Date.now() - 86400000).toISOString(),
    decisionOutcome: null,
    assignedToUsername: 'bob',
    taskName: 'Data Validation',
    taskType: 'FILE_UPDATE',
  },
  {
    instanceTaskId: 7,
    instanceId: 3,
    taskId: 23,
    status: 'PENDING',
    assignedTo: 4,
    startedOn: null,
    completedOn: null,
    decisionOutcome: null,
    assignedToUsername: 'sarahwilson',
    taskName: 'Manager Review',
    taskType: 'DECISION',
  },
  {
    instanceTaskId: 8,
    instanceId: 4,
    taskId: 21,
    status: 'PENDING',
    assignedTo: 9,
    startedOn: null,
    completedOn: null,
    decisionOutcome: null,
    assignedToUsername: 'eve',
    taskName: 'Data Collection',
    taskType: 'FILE_UPLOAD',
  },
  {
    instanceTaskId: 9,
    instanceId: 5,
    taskId: 25,
    status: 'FAILED',
    assignedTo: 11,
    startedOn: new Date(Date.now() - 259200000).toISOString(),
    completedOn: null,
    decisionOutcome: null,
    assignedToUsername: 'grace',
    taskName: 'Document Collection',
    taskType: 'FILE_UPLOAD',
  },
];

export const mockTaskDetails: TaskDetails[] = [
  // Upload Raw Data task - matches dashboard instanceTaskId: 1
  {
    instanceTaskId: 1,
    instanceId: 1,
    taskId: 1,
    taskName: 'Upload Raw Data',
    taskType: 'FILE_UPLOAD',
    status: 'IN_PROGRESS',
    assignedTo: 1,
    assignedToUsername: 'alice',
    startedOn: new Date(Date.now() - 3600000).toISOString(),
    completedOn: null,
    decisionOutcome: null,
    workflowName: 'Document Processing',
    workflowId: 1,
    taskConfiguration: {
      fileSelectionMode: 'USER_SELECT',
      allowedFileTypes: ['*.xlsx', '*.xls', '*.csv', '*.pdf', '*.docx'],
      maxFileSize: '25MB',
      isRequired: true,
      fileDescription: 'Upload raw data files for processing. Accepted formats include Excel spreadsheets, CSV files, PDF documents, and Word documents.'
    },
    instanceTaskFiles: [
      {
        instanceFileId: 101,
        version: 1,
        fileName: 'raw_data_sample.xlsx',
        filePath: '/uploads/raw_data_sample.xlsx',
        fileSize: 1536000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Initial raw data upload - sample file',
        createdBy: 'alice',
        createdAt: new Date(Date.now() - 1800000).toISOString()
      }
    ],
    queries: [
      {
        queryId: 101,
        queryTitle: 'Data format requirements',
        queryDescription: 'What specific columns should be included in the raw data file?',
        queryStatus: 'OPEN',
        priority: 'MEDIUM',
        raisedByUsername: 'alice',
        assignedToUsername: 'bob',
        createdAt: new Date(Date.now() - 2700000).toISOString()
      }
    ]
  },
  {
    instanceTaskId: 21,
    instanceId: 1,
    taskId: 21,
    taskName: 'Upload Financial Data',
    taskType: 'FILE_UPLOAD',
    status: 'COMPLETED',
    assignedTo: 1,
    assignedToUsername: 'alice',
    startedOn: new Date(Date.now() - 3600000).toISOString(),
    completedOn: new Date(Date.now() - 1800000).toISOString(),
    decisionOutcome: 'APPROVED',
    workflowName: 'Monthly Finance Review Workflow',
    workflowId: 1,
    taskConfiguration: {
      fileSelectionMode: 'USER_SELECT',
      allowedFileTypes: ['*.xlsx', '*.xls', '*.csv'],
      maxFileSize: '10MB',
      isRequired: true,
      fileDescription: 'Upload monthly financial data in Excel format'
    },
    instanceTaskFiles: [
      {
        instanceFileId: 1,
        version: 1,
        fileName: 'financial_data_jan.xlsx',
        filePath: '/uploads/financial_data_jan.xlsx',
        fileSize: 2048000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'January financial data uploaded',
        createdBy: 'alice',
        createdAt: new Date(Date.now() - 1800000).toISOString()
      },
      {
        instanceFileId: 1,
        version: 2,
        fileName: 'financial_data_jan.xlsx',
        filePath: '/uploads/financial_data_jan_v2.xlsx',
        fileSize: 2150000,
        actionType: 'UPDATE',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Updated with corrected Q4 figures',
        createdBy: 'alice',
        createdAt: new Date(Date.now() - 900000).toISOString()
      },
      {
        instanceFileId: 5,
        version: 1,
        fileName: 'budget_summary.pdf',
        filePath: '/uploads/budget_summary.pdf',
        fileSize: 1024000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Budget summary document',
        createdBy: 'alice',
        createdAt: new Date(Date.now() - 1200000).toISOString()
      }
    ],
    queries: [
      {
        queryId: 1,
        queryTitle: 'File format clarification',
        queryDescription: 'What format should the financial data be in?',
        queryStatus: 'RESOLVED',
        priority: 'MEDIUM',
        raisedByUsername: 'alice',
        assignedToUsername: 'bob',
        createdAt: new Date(Date.now() - 2700000).toISOString(),
        resolutionNotes: 'Please use Excel format (.xlsx)',
        resolvedAt: new Date(Date.now() - 2400000).toISOString()
      }
    ]
  },
  {
    instanceTaskId: 2,
    instanceId: 1,
    taskId: 22,
    taskName: 'Update Budget Data',
    taskType: 'FILE_UPDATE',
    status: 'IN_PROGRESS',
    assignedTo: 2,
    assignedToUsername: 'bob',
    startedOn: new Date(Date.now() - 1800000).toISOString(),
    completedOn: null,
    decisionOutcome: null,
    workflowName: 'Monthly Finance Review Workflow',
    workflowId: 1,
    taskConfiguration: {
      sourceFileId: 1,
      updateType: 'MODIFY_EXISTING',
      backupOriginal: true,
      isRequired: true,
      fileDescription: 'Update the budget data with latest figures'
    },
    sourceFile: {
      instanceFileId: 1,
      version: 1,
      fileName: 'financial_data_jan.xlsx',
      filePath: '/uploads/financial_data_jan.xlsx',
      fileSize: 2048000,
      actionType: 'UPLOAD',
      fileStatus: 'COMPLETED',
      createdBy: 'alice',
      createdAt: new Date(Date.now() - 1800000).toISOString()
    },
    updatedFiles: [
      {
        instanceFileId: 1,
        version: 2,
        fileName: 'financial_data_jan_v2.xlsx',
        filePath: '/uploads/financial_data_jan_v2.xlsx',
        fileSize: 2150000,
        actionType: 'UPDATE',
        fileStatus: 'IN_PROGRESS',
        fileCommentary: 'Updated with latest budget figures',
        createdBy: 'bob',
        createdAt: new Date(Date.now() - 900000).toISOString()
      }
    ],
    queries: []
  },
  {
    instanceTaskId: 3,
    instanceId: 2,
    taskId: 25,
    taskName: 'Document Collection',
    taskType: 'FILE_UPLOAD',
    status: 'COMPLETED',
    assignedTo: 7,
    assignedToUsername: 'charlie',
    startedOn: new Date(Date.now() - 86400000).toISOString(),
    completedOn: new Date(Date.now() - 43200000).toISOString(),
    decisionOutcome: 'APPROVED',
    workflowName: 'Quarterly Audit Workflow',
    workflowId: 2,
    taskConfiguration: {
      fileSelectionMode: 'USER_SELECT',
      allowedFileTypes: ['*.pdf', '*.docx', '*.xlsx'],
      maxFileSize: '25MB',
      isRequired: true,
      fileDescription: 'Upload audit documents and supporting materials'
    },
    instanceTaskFiles: [
      {
        instanceFileId: 2,
        version: 1,
        fileName: 'audit_documents_q1.pdf',
        filePath: '/uploads/audit_documents_q1.pdf',
        fileSize: 15360000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Q1 audit documents uploaded',
        createdBy: 'charlie',
        createdAt: new Date(Date.now() - 43200000).toISOString()
      },
      {
        instanceFileId: 3,
        version: 1,
        fileName: 'supporting_data.xlsx',
        filePath: '/uploads/supporting_data.xlsx',
        fileSize: 3072000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Supporting financial data',
        createdBy: 'charlie',
        createdAt: new Date(Date.now() - 43200000).toISOString()
      }
    ],
    queries: []
  },
  {
    instanceTaskId: 4,
    instanceId: 2,
    taskId: 26,
    taskName: 'Consolidate Audit Report',
    taskType: 'FILE_CONSOLIDATE',
    status: 'COMPLETED',
    assignedTo: 8,
    assignedToUsername: 'diana',
    startedOn: new Date(Date.now() - 43200000).toISOString(),
    completedOn: new Date(Date.now() - 3600000).toISOString(),
    decisionOutcome: 'APPROVED',
    workflowName: 'Quarterly Audit Workflow',
    workflowId: 2,
    taskConfiguration: {
      consolidationMode: 'MERGE_FILES',
      outputFormat: 'PDF',
      includeSummary: true,
      isRequired: true,
      fileDescription: 'Consolidate all audit documents into a single report'
    },
    sourceFiles: [
      {
        instanceFileId: 2,
        version: 1,
        fileName: 'audit_documents_q1.pdf',
        filePath: '/uploads/audit_documents_q1.pdf',
        fileSize: 15360000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        createdBy: 'charlie',
        createdAt: new Date(Date.now() - 43200000).toISOString()
      },
      {
        instanceFileId: 3,
        version: 1,
        fileName: 'supporting_data.xlsx',
        filePath: '/uploads/supporting_data.xlsx',
        fileSize: 3072000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        createdBy: 'charlie',
        createdAt: new Date(Date.now() - 43200000).toISOString()
      }
    ],
    consolidatedFile: {
      instanceFileId: 4,
      version: 1,
      fileName: 'consolidated_audit_report_q1.pdf',
      filePath: '/reports/consolidated_audit_report_q1.pdf',
      fileSize: 20480000,
      actionType: 'CONSOLIDATE',
      fileStatus: 'COMPLETED',
      fileCommentary: 'Consolidated Q1 audit report with all supporting documents',
      createdBy: 'system',
      createdAt: new Date(Date.now() - 3600000).toISOString()
    },
    queries: []
  },
  {
    instanceTaskId: 7,
    instanceId: 3,
    taskId: 23,
    taskName: 'Manager Review',
    taskType: 'DECISION',
    status: 'PENDING',
    assignedTo: 4,
    assignedToUsername: 'sarahwilson',
    startedOn: null,
    completedOn: null,
    decisionOutcome: null,
    workflowName: 'Monthly Finance Review Workflow',
    workflowId: 1,
    taskConfiguration: {
      decisionType: 'APPROVAL',
      decisionOptions: ['APPROVED', 'REJECTED', 'NEEDS_REVISION'],
      requiresComments: true,
      isRequired: true,
      fileDescription: 'Review and approve the monthly financial report'
    },
    reviewFiles: [
      {
        instanceFileId: 1,
        version: 2,
        fileName: 'financial_data_jan_v2.xlsx',
        filePath: '/uploads/financial_data_jan_v2.xlsx',
        fileSize: 2150000,
        actionType: 'UPDATE',
        fileStatus: 'COMPLETED',
        createdBy: 'bob',
        createdAt: new Date(Date.now() - 86400000).toISOString()
      }
    ],
    queries: [
      {
        queryId: 2,
        queryTitle: 'Clarification on budget variance',
        queryDescription: 'Can you explain the 15% variance in the marketing budget?',
        queryStatus: 'OPEN',
        priority: 'HIGH',
        raisedByUsername: 'sarahwilson',
        assignedToUsername: 'bob',
        createdAt: new Date(Date.now() - 7200000).toISOString()
      }
    ]
  },
  {
    instanceTaskId: 8,
    instanceId: 4,
    taskId: 21,
    taskName: 'Data Collection',
    taskType: 'FILE_UPLOAD',
    status: 'PENDING',
    assignedTo: 9,
    assignedToUsername: 'eve',
    startedOn: null,
    completedOn: null,
    decisionOutcome: null,
    workflowName: 'Monthly Finance Review Workflow',
    workflowId: 1,
    taskConfiguration: {
      fileSelectionMode: 'USER_SELECT',
      allowedFileTypes: ['*.xlsx', '*.xls', '*.csv'],
      maxFileSize: '10MB',
      isRequired: true,
      fileDescription: 'Upload monthly financial data in Excel format'
    },
    instanceTaskFiles: [],
    queries: []
  },
  // New IN_PROGRESS decision task
  {
    instanceTaskId: 10,
    instanceId: 1,
    taskId: 24,
    taskName: 'Review Document',
    taskType: 'DECISION',
    status: 'IN_PROGRESS',
    assignedTo: 1,
    assignedToUsername: 'alice',
    startedOn: new Date(Date.now() - 900000).toISOString(),
    completedOn: null,
    decisionOutcome: null,
    workflowName: 'Document Processing',
    workflowId: 1,
    taskConfiguration: {
      decisionType: 'APPROVAL',
      decisionOptions: ['APPROVE', 'REJECT', 'REQUEST_CHANGES'],
      requiresComments: true,
      isRequired: true,
      fileDescription: 'Review the processed document and make a decision'
    },
    reviewFiles: [
      {
        instanceFileId: 101,
        version: 1,
        fileName: 'raw_data_sample.xlsx',
        filePath: '/uploads/raw_data_sample.xlsx',
        fileSize: 1536000,
        actionType: 'UPLOAD',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Initial raw data upload - sample file',
        createdBy: 'alice',
        createdAt: new Date(Date.now() - 1800000).toISOString()
      },
      {
        instanceFileId: 102,
        version: 1,
        fileName: 'processed_report.pdf',
        filePath: '/uploads/processed_report.pdf',
        fileSize: 2048000,
        actionType: 'GENERATE',
        fileStatus: 'COMPLETED',
        fileCommentary: 'Auto-generated report from raw data',
        createdBy: 'system',
        createdAt: new Date(Date.now() - 1200000).toISOString()
      }
    ],
    queries: [
      {
        queryId: 102,
        queryTitle: 'Data accuracy verification',
        queryDescription: 'Please verify the accuracy of the processed data before approval',
        queryStatus: 'OPEN',
        priority: 'HIGH',
        raisedByUsername: 'bob',
        assignedToUsername: 'alice',
        createdAt: new Date(Date.now() - 1800000).toISOString()
      }
    ]
  }
];